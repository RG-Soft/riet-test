//перенесла проведение в модуль реализации Федотова Л., РГ-Софт, 22.03.13, вопрос SLI-0003429
//Процедура ПриЗаписи(Отказ, Замещение)
//	
//	Попытка		
//		Док = ЭтотОбъект.Отбор.Документ.Значение;
//		Тикеты = Док.ПолучитьОбъект().Движения.Тикеты;
//		Тикеты.Прочитать();
//		Тикеты.Очистить();
//		Для Каждого Запись Из ЭтотОбъект Цикл
//			Если Не Запись.Тикет.Пустая() Тогда
//				ЗаписьТикета = Тикеты.Добавить();
//				ЗаписьТикета.Тикет = Запись.Тикет;
//				ЗаписьТикета.Период = Док.Дата;
//				//Ставка = ПолучитьСтавкуНДС(Запись.СтавкаНДС);
//				//Сумма = Запись.Сумма*100/(100+Ставка);
//				////избавимся от ошибок округления
//				//Разница = ?(Сумма-ЗаписьТикета.Тикет.Сумма>0,Сумма-ЗаписьТикета.Тикет.Сумма,ЗаписьТикета.Тикет.Сумма - Сумма);
//				//
//				////КурсДоллара = ПолучитьКурсВалюты(Справочники.Валюты.НайтиПоКоду(840), Запись.Документ.Дата);
//				////СуммаВДолларах = Сумма / КурсДоллара.Курс * КурсДоллара.Кратность;
//				//СуммаВДолларах = Сумма / Запись.Документ.КурсВзаиморасчетов * Запись.Документ.КратностьВзаиморасчетов;
//				//РазницаВПересчетеВДоллары = ?(СуммаВДолларах-ЗаписьТикета.Тикет.Сумма>0,СуммаВДолларах-ЗаписьТикета.Тикет.Сумма,ЗаписьТикета.Тикет.Сумма - СуммаВДолларах);
//				//
//				//Если Разница < 0.1 ИЛИ РазницаВПересчетеВДоллары  < 0.1 Тогда
//				//	ЗаписьТикета.Сумма = ЗаписьТикета.Тикет.Сумма;
//				//Иначе
//				//	ЗаписьТикета.Сумма = Сумма;
//				//КонецЕсли;
//				
//				ЗаписьТикета.Сумма = Запись.Сумма;
//				ЗаписьТикета.ВидДвижения = ВидДвиженияНакопления.Расход;
//			КонецЕсли;
//		КонецЦикла;
//		Тикеты.Записать();
//	Исключение
//	КонецПопытки;
//		
//КонецПроцедуры
