
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("СтруктураНастройки") Тогда
		
		СтруктураНастройки = Параметры.СтруктураНастройки;
		Если СтруктураНастройки.Имя = "ВыборИзCustomsPaymentAllocation" Тогда
			НастроитьДляВыбораИзCustomsPaymentAllocation(СтруктураНастройки);
		КонецЕсли;
		     		
	КонецЕсли;
	
	Отбор = Параметры.Отбор;
	
	Отбор.Вставить("ПометкаУдаления", Ложь);
	
	Отбор.Вставить("Проведен", Истина);
	
	ImportExportСервер.ДобавитьОтборПоProcessLevelПриНеобходимости(Отбор, "ProcessLevel");
		
КонецПроцедуры

&НаСервере
Процедура НастроитьДляВыбораИзCustomsPaymentAllocation(СтруктураНастройки)

	//СтруктураПодбора = CustomsСервер.ПолучитьСтруктуруПодбораFutureCustomsPaymentForAllocation(СтруктураНастройки.CustomsPayment);
	//		
	//Отбор = Параметры.Отбор;
	//
	//Если ЗначениеЗаполнено(СтруктураПодбора.Customs) Тогда
	//	ОбщегоНазначенияКлиентСервер.УстановитьЭлементОтбора(
	//		Список.Отбор,
	//		"DT.CustomsPost.Customs",
	//		СтруктураПодбора.Customs,
	//		ВидСравненияКомпоновкиДанных.Равно);
	//КонецЕсли;
	//
	//Если ЗначениеЗаполнено(СтруктураПодбора.CCDReference) Тогда
	//	Отбор.Вставить("DT.SequenceNo", СтруктураПодбора.CCDReference);
	//КонецЕсли;
	//
	//Если ЗначениеЗаполнено(СтруктураПодбора.SoldTo) Тогда
	//	Отбор.Вставить("DT.SoldTo", СтруктураПодбора.SoldTo);
	//КонецЕсли;
	//		
	//Отбор.Вставить("Ссылка", СтруктураПодбора.FutureCustomsPayments);
	//Если ЗначениеЗаполнено(СтруктураНастройки.CurrentCustomsDocument) Тогда
	//	Отбор.Ссылка.Добавить(СтруктураНастройки.CurrentCustomsDocument);
	//КонецЕсли; 
	
КонецПроцедуры
